# 贪吃蛇 HTML 小游戏 - 需求与技术方案

## 一、项目概述

创建一个基于纯 HTML/CSS/JavaScript 的贪吃蛇小游戏，无需任何框架依赖，单文件即可运行。

## 二、功能需求

### 核心玩法
- 蛇可以通过键盘方向键或 WASD 控制移动
- 蛇吃到食物后身体变长，分数增加
- 蛇撞到墙壁或自己的身体时游戏结束
- 显示当前分数和最高分（本地存储）

### 游戏控制
- 开始/暂停按钮
- 重新开始按钮
- 按空格键暂停/继续

### 难度系统
- 简单/普通/困难 三档难度
- 难度影响蛇的移动速度

## 三、技术方案

### 技术栈
- **HTML5**: 页面结构
- **CSS3**: 样式和动画效果
- **JavaScript**: 游戏逻辑
- **Canvas API**: 游戏画面渲染
- **LocalStorage**: 最高分存储

### 核心模块设计

```
├── 游戏引擎 (Game Engine)
│   ├── 游戏循环 (requestAnimationFrame)
│   ├── 状态管理 (playing/paused/gameover)
│   └── 碰撞检测
│
├── 蛇对象 (Snake)
│   ├── 身体坐标数组
│   ├── 移动方向
│   ├── 移动方法
│   └── 生长方法
│
├── 食物对象 (Food)
│   ├── 位置坐标
│   └── 随机生成方法
│
├── 渲染器 (Renderer)
│   ├── Canvas 绑定
│   ├── 绘制蛇
│   ├── 绘制食物
│   └── 绘制网格（可选）
│
└── 输入控制器 (Input Controller)
    ├── 键盘事件监听
    └── 按钮点击事件
```

### 关键算法

1. **蛇的移动**: 每帧将新头部坐标加入数组头部，移除尾部
2. **碰撞检测**: 检查头部坐标是否超出边界或与身体重叠
3. **食物生成**: 随机坐标，确保不与蛇身重叠

## 四、视觉设计

### 配色方案
- 背景: 深色渐变 (#1a1a2e → #0f3460)
- 蛇身: 渐变绿色，头部高亮
- 食物: 红色发光效果
- UI: 霓虹风格文字

### 动效
- 蛇身流畅移动
- 食物闪烁/脉冲效果
- 游戏结束震动效果
- 分数增加动画

## 五、文件结构

```
claude/
├── planplay.md   # 需求与技术方案文档
└── snake.html    # 单文件包含所有代码
```

## 六、实现步骤

1. **搭建 HTML 结构**
   - Canvas 画布
   - 控制按钮区域
   - 分数显示区域

2. **实现 CSS 样式**
   - 页面布局
   - 按钮样式
   - 动画效果

3. **实现游戏核心逻辑**
   - Snake 类
   - Food 类
   - 游戏循环
   - 碰撞检测

4. **实现输入控制**
   - 键盘监听
   - 按钮事件

5. **添加音效（可选）**
   - 吃食物音效
   - 游戏结束音效

## 七、验证方案

1. 在浏览器中打开 snake.html
2. 测试基本操作：方向键控制、开始/暂停
3. 测试边界碰撞和自身碰撞
4. 测试分数记录和最高分存储
5. 测试不同难度下的速度变化

## 八、实现状态

- [x] 规划文档 (`planplay.md`)
- [x] 游戏文件 (`snake.html`)
